<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EBook</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/toastr@2.1.4/toastr.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/toastr@2.1.4/build/toastr.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.ckeditor.com/ckeditor5/42.0.1/ckeditor5.css">
    <script src="https://kit.fontawesome.com/ad778f42b3.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./css/common.css">
</head>
<body>
    <div class="container-fluid">
        <!-- Header -->
        <div class="row" style="background-color: crimson;">
            <div class="col-lg-12">
                <div class="d-flex">
                    <div class="col-lg-3">
                        <a href="./"><img src="./images/ebook-logo.png" alt="EBook Store" width="100%" /></a>
                    </div>


                    <div class="col-lg-6 d-flex align-items-center position-relative">
                        <div class="d-flex justify-content-around align-items-center flex-fill">
                            <div class="dropdownContainer">
                                <i class="fa-solid fa-square-poll-horizontal text-white fa-2x crs"></i>
                                <div class="dropdownContent">
                                    <div class="d-flex">
                                        <div class="pe-2 border-end">
                                            <a href="." class="crs default-focus text-nowrap">Sách Trong Nước</a><br>
                                            <a href="." class="crs text-nowrap">FOREIGN BOOKS</a><br>
                                        </div>
                                        <div class="d-flex flex-wrap p-3 text-white" id="categoryContainer" ><!-- Mutable --></div>
                                    </div>
                                </div>
                            </div>&emsp;
                            <input type="text" class="form-control" name="" id="" placeholder="Tìm kiếm sách ở đây...">&emsp;
                            <i class="fa-solid fa-magnifying-glass text-white fa-2x crs"></i>
                        </div>
                    </div>
                    <div class="col-lg-3 d-flex align-items-center justify-content-end">
                        <div class="text-center crs">
                            <i class="fa-brands fa-shopify text-white fa-2x d-block"></i>
                            <a href="" class="text-white">Giỏ hàng</a>
                        </div>
                        <div class="text-center mx-2 crs position-relative dropdownContainer">
                            <i class="fa-regular fa-user text-white fa-2x d-block"></i>
                            <a href="" class="text-white">Tài khoản</a>
                            <div class="dropdownContent" style="right: 0;" id="accountMutable">
                                <div><button class="btn btn-outline-light w-100 rounded-0 mb-1" data-bs-toggle="modal" data-bs-target="#loginModal">Đăng nhập</button></div>
                                <div><button class="btn btn-light w-100 rounded-0" data-bs-toggle="modal" data-bs-target="#registerModal">Đăng ký</button></div>
                                <div><button class="btn btn-light w-100 rounded-0 mb-1" data-bs-toggle="modal" data-bs-target="#userInfoModal">Xem thông tin</button></div>
                                <div><button class="btn btn-light w-100 rounded-0 mb-1" data-bs-toggle="modal" data-bs-target="#changePasswordModal">Đổi mật khẩu</button></div>
                                <div><button type="button" class="btn btn-light w-100 rounded-0" onclick="logout('user');">Đăng xuất <i class="fas fa-sign-out-alt"></i></button></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FlashSale -->
        <div class="row mt-3 mx-5 bg-white">
            <div class="col-lg-12">
                <!-- FlashSale Logo -->
                <div class="d-flex">
                    <div class="flex-fill">
                        <img src="./images/flashsale.gif" alt="flashsale" width="128" height="64">
                        <span class="fwl">Kết thúc trong</span>
                        <span id="flashSaleExpired"><span class="badge bg-dark p-2 mx-1">09 Giờ</span>:<span class="badge bg-dark p-2 mx-1">26 Phút</span>:<span class="badge bg-dark p-2 mx-1">55 Giây</span></span>
                        <span class="fwl">. Nhanh tay kẻo lỡ nhé!</span>
                    </div>
                    <div class="d-flex align-items-center">
                        <span class="text-danger text-decoration-underline crs">Xem tất cả <i class="fas fa-angle-right"></i></span>
                    </div>
                </div>
                <hr>
                <!-- FlashSale Items -->
                <div class="d-flex overflow-auto" id="flashSaleBookContainer">
                    <div class="col-2 border border rounded-3 p-3 mx-2 position-relative text-white" style="background-color: #f72a3d;">
                        <div class="position-absolute top-0 start-0 m-1">
                            <img src="./images/hot_new.gif" alt="flash" width="32" height="32">
                        </div>
                        <div class="position-absolute top-0 end-0 m-1">
                            <span class="small badge bg-danger rounded-pill fst-italic">-15%</span>
                        </div>
                        <div class="text-center"><img src="https://upload.wikimedia.org/wikipedia/vi/0/0a/%C4%90%E1%BA%AFc_nh%C3%A2n_t%C3%A2m.jpg" alt="dac-nhan-tam" width="150" height="200"></div>
                        <p class="fixed-height-40">Làm Cách Nào Để Kết Bạn Và Tạo Ảnh Hưởng Lên Người Khác</p>
                        <span>
                            <span class="fwl fw-bold">49.000 đ</span>
                        </span><br>
                        <span class="text-decoration-line-through">65.000 đ</span>
                    </div>
                    <div class="col-2 border border rounded-3 p-3 mx-2 position-relative text-white" style="background-color: #f72a3d;">
                        <div class="position-absolute top-0 start-0 m-1">
                            <img src="./images/hot_new.gif" alt="flash" width="32" height="32">
                        </div>
                        <div class="position-absolute top-0 end-0 m-1">
                            <span class="small badge bg-danger rounded-pill fst-italic">-15%</span>
                        </div>
                        <div class="text-center"><img src="https://simg.zalopay.com.vn/zlp-website/assets/sach_hay_nen_doc_nha_gia_kim_ea63da0d8f.jpeg" alt="dac-nhan-tam" width="150" height="200"></div>
                        <p class="fixed-height-40">Nhà Giả Kim</p>
                        <span>
                            <span class="fwl fw-bold">49.000 đ</span>
                            <span class="small badge bg-danger fst-italic">-15%</span>
                        </span><br>
                        <span class="text-decoration-line-through">65.000 đ</span>
                    </div>
                    <div class="col-2 border border rounded-3 p-3 mx-2 position-relative text-white" style="background-color: #f72a3d;">
                        <div class="position-absolute top-0 start-0 m-1">
                            <img src="./images/hot_new.gif" alt="flash" width="32" height="32">
                        </div>
                        <div class="position-absolute top-0 end-0 m-1">
                            <span class="small badge bg-danger rounded-pill fst-italic">-15%</span>
                        </div>
                        <div class="text-center"><img src="https://upload.wikimedia.org/wikipedia/vi/0/0a/%C4%90%E1%BA%AFc_nh%C3%A2n_t%C3%A2m.jpg" alt="dac-nhan-tam" width="150" height="200"></div>
                        <p class="fixed-height-40">Làm Cách Nào Để Kết Bạn Và Tạo Ảnh Hưởng Lên Người Khác</p>
                        <span>
                            <span class="fwl fw-bold">49.000 đ</span>
                        </span><br>
                        <span class="text-decoration-line-through">65.000 đ</span>
                    </div>
                    <div class="col-2 border border rounded-3 p-3 mx-2 position-relative text-white" style="background-color: #f72a3d;">
                        <div class="position-absolute top-0 start-0 m-1">
                            <img src="./images/hot_new.gif" alt="flash" width="32" height="32">
                        </div>
                        <div class="position-absolute top-0 end-0 m-1">
                            <span class="small badge bg-danger rounded-pill fst-italic">-15%</span>
                        </div>
                        <div class="text-center"><img src="https://upload.wikimedia.org/wikipedia/vi/0/0a/%C4%90%E1%BA%AFc_nh%C3%A2n_t%C3%A2m.jpg" alt="dac-nhan-tam" width="150" height="200"></div>
                        <p class="fixed-height-40">Làm Cách Nào Để Kết Bạn Và Tạo Ảnh Hưởng Lên Người Khác</p>
                        <span>
                            <span class="fwl fw-bold">49.000 đ</span>
                        </span><br>
                        <span class="text-decoration-line-through">65.000 đ</span>
                    </div>
                    <div class="col-2 border border rounded-3 p-3 mx-2 position-relative text-white" style="background-color: #f72a3d;">
                        <div class="position-absolute top-0 start-0 m-1">
                            <img src="./images/hot_new.gif" alt="flash" width="32" height="32">
                        </div>
                        <div class="position-absolute top-0 end-0 m-1">
                            <span class="small badge bg-danger rounded-pill fst-italic">-15%</span>
                        </div>
                        <div class="text-center"><img src="https://upload.wikimedia.org/wikipedia/vi/0/0a/%C4%90%E1%BA%AFc_nh%C3%A2n_t%C3%A2m.jpg" alt="dac-nhan-tam" width="150" height="200"></div>
                        <p class="fixed-height-40">Làm Cách Nào Để Kết Bạn Và Tạo Ảnh Hưởng Lên Người Khác</p>
                        <span>
                            <span class="fwl fw-bold">49.000 đ</span>
                        </span><br>
                        <span class="text-decoration-line-through">65.000 đ</span>
                    </div>
                    <div class="col-2 border border rounded-3 p-3 mx-2 position-relative text-white" style="background-color: #f72a3d;">
                        <div class="position-absolute top-0 start-0 m-1">
                            <img src="./images/hot_new.gif" alt="flash" width="32" height="32">
                        </div>
                        <div class="position-absolute top-0 end-0 m-1">
                            <span class="small badge bg-danger rounded-pill fst-italic">-15%</span>
                        </div>
                        <div class="text-center"><img src="https://upload.wikimedia.org/wikipedia/vi/0/0a/%C4%90%E1%BA%AFc_nh%C3%A2n_t%C3%A2m.jpg" alt="dac-nhan-tam" width="150" height="200"></div>
                        <p class="fixed-height-40">Làm Cách Nào Để Kết Bạn Và Tạo Ảnh Hưởng Lên Người Khác</p>
                        <span>
                            <span class="fwl fw-bold">49.000 đ</span>
                        </span><br>
                        <span class="text-decoration-line-through">65.000 đ</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Top Sold -->
        <div class="row mt-3 mx-5 p-3 bg-white">
            <div class="col-lg-12">
                <div class="mt-2">
                    <i class="fas fa-book fwl text-danger"></i> <span class="fwl">TOP Sách Bán Chạy Nhất</span>
                    <img src="https://media.tenor.com/K3j9pwWlME0AAAAj/fire-flame.gif" alt="" width="24" height="24">
                    <hr>
                </div>
                <div class="d-flex overflow-auto" id="topSoldBookContainer">
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 3)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                    <div class="col-1 text-center border me-2 p-1 small">
                        <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                        <div class="d-flex">
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                            <span class="fst-italic">(Đã bán 999)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recommended -->
        <div class="row my-3 mx-5 p-3 bg-white">
            <div class="col-lg-12">
                <div class="col-lg-12">
                    <div class="mt-2">
                        <i class="fas fa-bars fwl text-danger"></i> <span class="fwl">Gợi Ý Khác Cho Bạn</span>
                        <hr>
                    </div>
                    <div class="d-flex overflow-auto" id="bookContainer">
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span>(5⭐)</span>
                            </div>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span>(4.3⭐)</span>
                            </div>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span class="fst-italic">(Đã bán 999)</span>
                            </div>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span class="fst-italic">(Đã bán 999)</span>
                            </div>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span class="fst-italic">(Đã bán 999)</span>
                            </div>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span class="fst-italic">(Đã bán 999)</span>
                            </div>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span class="fst-italic">(Đã bán 999)</span>
                            </div>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span class="fst-italic">(Đã bán 999)</span>
                            </div>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span class="fst-italic">(Đã bán 999)</span>
                            </div>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span class="fst-italic">(Đã bán 999)</span>
                            </div>
                        </div>
                        <div class="col-1 text-center border me-2 p-1 small">
                            <img src="https://tiki.vn/blog/wp-content/uploads/2023/09/nHywstISaHVyMyvrEphzH5gAjQiVml9nhz1f1rVYq0NvfcmbxM_1DaixLAh2Nhw6on_NUWs60ZAPh5_A-dJiUAYw971x6BBnltywOpEb9T_aY0CGEhnJCMcKLr7ES3lL6rWJjK7BfyytLALjWOgFuko.png" alt="" width="110" height="130">
                            <p class="fixed-height-40 d-block">7 Chiến Lược Thịnh Vượng & Hạnh Phúc</p>
                            <div class="d-flex">
                                <span class="flex-fill text-danger fw-bold">55.000 đ</span>
                                <span class="fst-italic">(Đã bán 999)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="row" style="background-color: crimson;">
            <div class="col-lg-12">
                <div class="d-flex text-white">
                    <div class="col-4 p-2 border-end border-secondary">
                        <img src="./images/ebook-logo.png" alt="ebook-logo-end">
                        <p>✨ ĐỊA CHỈ / CHI NHÁNH: Lầu 5, 387-389 Hai Bà Trưng Quận 3 TP HCMCông Ty Cổ Phần Phát Hành Sách TP HCM - EBOOK60 - 62 Lê Lợi, Quận 1, TP. HCM, Việt Nam <i class="fas fa-map-marker-alt"></i>.</p>
                        <p>✨ Ebook.com nhận đặt hàng trực tuyến và giao hàng tận nơi. KHÔNG hỗ trợ đặt mua và nhận hàng trực tiếp tại văn phòng cũng như tất cả Hệ Thống Ebook trên toàn quốc.</p>
                        <div class="d-flex">
                            ✨&emsp13;
                            <i class="fab fa-facebook-square fa-2x"></i>&emsp;
                            <i class="fab fa-instagram-square fa-2x"></i>&emsp;
                            <i class="fab fa-twitter-square fa-2x"></i>&emsp;
                            <i class="fab fa-youtube-square fa-2x"></i>&emsp;
                            <i class="fab fa-pinterest-p fa-2x"></i>&emsp;
                            <i class="fab fa-tumblr-square fa-2x"></i>
                        </div>
                    </div>
                    <div class="col-6 px-5 pt-5">
                        <img src="https://cdn.pixabay.com/photo/2018/07/12/13/04/copyright-3533368_1280.png" alt="" width="100" height="100" style="float: right;">
                        <span>Giấy chứng nhận Đăng ký Kinh doanh số 0304132047 do Sở Kế hoạch và Đầu tư Thành phố Hồ Chí Minh cấp ngày 20/12/2005, đăng ký thay đổi lần thứ 10, ngày 20/05/2022.</span>
                        <br>
                        <p>- CHĂM SÓC KHÁCH HÀNG: <i class="fas fa-phone-volume"></i> 0338188506</p>
                        <p>- Chịu trách nhiệm và hỗ trợ. Liên hệ:</p>
                        <ul>
                            <li>Hotline: 098 164 0961</li>
                            <li>Email: info@ebook.com</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="modals-container"></div>
    <script src="./js/logout.js"></script>
    <script>
        $(document).ready(async function() {
            // 01. Tải modals
            $.when(
                $.get("./modals/login-modal.html", function(data) {
                    $("#modals-container").append(data);
                }),
                $.get("./modals/register-modal.html", function(data) {
                    $("#modals-container").append(data);
                }),
                $.get("./modals/change-password-modal.html", function(data) {
                    $("#modals-container").append(data);
                }),
                $.get("./modals/user-info-modal.html", function(data) {
                    $("#modals-container").append(data);
                })
            ).done(function() {
                console.log("Tất cả các modal đã được tải xong");
            }).fail(function() {
                console.log("Lỗi khi tải modal");
            });

            // 02. Kiểm tra token
            const accessToken = sessionStorage.getItem('user_access_token');
            if (!accessToken) {
                const noLoginContentHtml = `
                    <div><button class="btn btn-outline-light w-100 rounded-0 mb-1" data-bs-toggle="modal" data-bs-target="#loginModal">Đăng nhập</button></div>
                    <div><button class="btn btn-light w-100 rounded-0" data-bs-toggle="modal" data-bs-target="#registerModal">Đăng ký</button></div>
                `;
                $("#accountMutable").html(noLoginContentHtml);
            } else {
                $.ajax({
                    url: 'http://localhost:8080/api/v1/user/whoiam',
                    type: 'GET',
                    beforeSend: function (xhr) {
                        xhr.setRequestHeader('Authorization', 'Bearer ' + accessToken);
                    },
                    credentials: 'include', // Để gửi cookie trong request
                    success: function(userData) {
                        console.log('response=', userData);
                        // Render data user info modal
                        const htmlContent = `
                            <dt class="col-sm-4">ID:</dt>
                            <dd class="col-sm-8" id="userId">#${userData.id}</dd>

                            <dt class="col-sm-4">Họ:</dt>
                            <dd class="col-sm-8" id="userFirstName">${userData.firstName}</dd>

                            <dt class="col-sm-4">Tên:</dt>
                            <dd class="col-sm-8" id="userLastName">${userData.lastName}</dd>

                            <dt class="col-sm-4">Tên đầy đủ:</dt>
                            <dd class="col-sm-8" id="userFullName">${userData.firstName} ${userData.lastName}</dd>

                            <dt class="col-sm-4">Tên đăng nhập:</dt>
                            <dd class="col-sm-8" id="userName">${userData.username}</dd>

                            <dt class="col-sm-4">Email:</dt>
                            <dd class="col-sm-8" id="userEmail">${userData.email}</dd>

                            <dt class="col-sm-4">Ngày tạo:</dt>
                            <dd class="col-sm-8" id="userCreatedAt">${formatDate(userData.createdAt)}</dd>
                        `;
                        $("#userInfoModalData").html(htmlContent);
                        const loginContentHtml = `
                            <div><button class="btn btn-danger w-100 rounded-0 mb-1" data-bs-toggle="modal" data-bs-target="#userInfoModal">Xem thông tin</button></div>
                            <div><button class="btn btn-danger w-100 rounded-0 mb-1" data-bs-toggle="modal" data-bs-target="#changePasswordModal">Đổi mật khẩu</button></div>
                            <div><button type="button" class="btn btn-danger w-100 rounded-0" onclick="logout('user');"><i class="fas fa-sign-out-alt"></i></button></div>
                        `;
                        $("#accountMutable").html(loginContentHtml);
    ;                },
                    error: function(xhr, status, error) {
                        toastr.error('http://localhost:8080/api/v1/users/whoiam error.');
                    }
                });
            }

            // 03. Tải genres menu
            const categoryContainer = $("#categoryContainer");
            categoryContainer.html("");
            const mygenres = await getGenres();
            for (const [group, genres] of Object.entries(mygenres)) {
                const groupName = genreGroupTranslations[group] || group;
                const limitedGenres = genres.slice(0, 5);
                let genreItems = limitedGenres.map(genre => {
                    const translatedGenre = genreTranslations[genre] || genre.replace(/_/g, ' ');
                    return `<span class="d-block crs">${translatedGenre}</span>`;
                }).join('');
                genreItems += '<span class="d-block crs text-decoration-underline">Xem tất cả</span>';

                const columnHtml = `
                    <div class="col-3 p-2 mb-1 small">
                        <span class="d-block fw-bold mb-2 text-truncate fs-6">${groupName}</span>
                        ${genreItems}
                    </div>
                `;
                categoryContainer.append(columnHtml);
            }

            // 04. Tải sách & render
            const flashSaleBookContainer = $("#flashSaleBookContainer");
            flashSaleBookContainer.empty();
            const flashSaleBooks = await getFlashSaleBooks();
            console.log('flashSaleBooks=', flashSaleBooks);
            flashSaleBooks.forEach(book => {
                const finalPrice = book.price - book.discount - book.flashSale;
                const discountPercent = Math.round(((book.discount + book.flashSale) / book.price) * 100);

                const bookHtml = `
                    <div class="col-2 border border rounded-3 p-3 mx-2 position-relative text-white crs book-card" style="background-color: #f72a3d;" data-id="${book.id}">
                        <div class="position-absolute top-0 start-0 m-1">
                            <img src="./images/hot_new.gif" alt="flash" width="32" height="32">
                        </div>
                        <div class="position-absolute top-0 end-0 m-1">
                            <span class="badge bg-light rounded-pill fst-italic text-danger">-${discountPercent}%</span>
                        </div>
                        <div class="text-center"><img src="${book.coverImageUrl}" alt="${book.title}" width="150" height="200"></div>
                        <p class="fixed-height-40">${book.title}</p>
                        <span>
                            <span class="fwl fw-bold">${formatVND(finalPrice)}</span>
                        </span><br>
                        <span class="text-decoration-line-through">${formatVND(book.price)}</span>
                    </div>
                `;
                flashSaleBookContainer.append(bookHtml);
            });

            const bookContainer = $("#bookContainer");
            bookContainer.empty();
            const books = await getBooks();
            books.forEach(book => {
                const bookHtml = `
                    <div class="col-1 text-center border me-2 p-1 small align-self-baseline crs book-card" data-id="${book.id}">
                        <img src="${book.coverImageUrl}" alt="" width="110" height="130">
                        <p class="d-block">${book.title}</p>
                        <span class="flex-fill text-danger fw-bold">${formatVND(book.price)}</span>
                    </div>
                `;
                bookContainer.append(bookHtml);
            });
            
            const topSoldBookContainer = $("#topSoldBookContainer");
            topSoldBookContainer.empty();
            const topSoldBooks = await getTopSoldBooks();
            console.log('topSoldBooks=', topSoldBooks);
            topSoldBooks.forEach(soldBookDTO => {
                const bookHtml = `
                    <div class="col-2 text-center border border-danger rounded-2 text-white me-2 p-3 small crs book-card" style="background-color: #ed4758;" data-id="${soldBookDTO.book.id}">
                        <img src="${soldBookDTO.book.coverImageUrl}" alt="" width="110" height="130">
                        <p class="fixed-height-40 d-block">${soldBookDTO.book.title}</p>
                        <div class="d-flex">
                            <span class="flex-fill fw-bold">${formatVND(soldBookDTO.book.price - soldBookDTO.book.discount)} đ</span>
                            <span class="small">(Đã bán ${soldBookDTO.totalSold})</span>
                        </div>
                    </div>
                `;
                topSoldBookContainer.append(bookHtml);
            });

            // 05. book-card event listener
            $('.book-card').on('click', function() {
                const bookId = $(this).data('id');
                window.location.href = `./book-detail.html?id=${bookId}`;
            });
        });
        
        /* FlashSale Countdown */
        function updateCountdown() {
            const now = new Date();
            const saleEndTime = new Date('2024-07-25T10:32:00'); // Thời gian kết thúc flashsale
            const timeDifference = saleEndTime - now;

            if (timeDifference > 0) {
                const hours = Math.floor(timeDifference / (1000 * 60 * 60));
                const minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeDifference % (1000 * 60)) / 1000);

                // document.getElementById('flashSaleExpired').textContent = `${hours} giờ ${minutes} phút ${seconds} giây`;
                document.getElementById('flashSaleExpired').innerHTML = `
                    <span class="badge bg-dark p-2 mx-1">${hours} Giờ</span>:<span class="badge bg-dark p-2 mx-1">${minutes} Phút</span>:<span class="badge bg-dark p-2 mx-1">${seconds} Giây</span>
                `;

            } else {
                document.getElementById('flashSaleExpired').textContent = 'Flash sale đã kết thúc';
                clearInterval(interval);
            }
        }
        const interval = setInterval(updateCountdown, 1000);
        updateCountdown(); // Cập nhật ngay lập tức khi trang được load

        async function getTopSoldBooks() {
            return $.ajax({
                url: 'http://localhost:8080/api/v1/book/topSoldBooks',
                type: 'GET',
                contentType: 'application/json',
                credentials: 'include', // Để gửi cookie trong request
            }).then((data) => data);
        }
        async function getFlashSaleBooks() {
            return $.ajax({
                url: 'http://localhost:8080/api/v1/book/flashSaleBooks',
                type: 'GET',
                contentType: 'application/json',
                credentials: 'include', // Để gửi cookie trong request
            }).then((data) => data);
        }
        async function getBooks() {
            return $.ajax({
                url: 'http://localhost:8080/api/v1/book/list',
                type: 'GET',
                contentType: 'application/json',
                credentials: 'include', // Để gửi cookie trong request
            }).then((data) => data);
        }
        async function getGenres() {
            return $.ajax({
                url: 'http://localhost:8080/api/v1/genre/grouped',
                type: 'GET',
                contentType: 'application/json',
                credentials: 'include', // Để gửi cookie trong request
            }).then((data) => data);
        }
        const genreGroupTranslations = {
            "EDUCATIONS": "GIÁO DỤC",
            "OTHERS": "KHÁC",
            "TEXTBOOKS": "SÁCH GIÁO KHOA - THAM KHẢO",
            "ECONOMICS": "KINH TẾ",
            "SPYCHOLOGIES": "TÂM LÝ & KỸ NĂNG SỐNG",
            "LANGUAGES": "NGOẠI NGỮ",
            "CHILDRENS": "SÁCH THIẾU NHI",
            "BIOGRAPHIES": "TIỂU SỬ & HỒI KÝ",
            "LITERATURES": "VĂN HỌC"
        };
        const genreTranslations = {
            "PARENTING_GUIDES": "Hướng dẫn nuôi dạy con cái",
            "CHILD_DEVELOPMENT": "Phát triển trẻ em",
            "POSITIVE_PARENTING": "Nuôi dạy con cái tích cực",
            "DISCIPLINE": "Kỷ luật",
            "PARENTING_STYLES": "Các kiểu nuôi dạy con cái",
            "SINGLE_PARENTING": "Nuôi dạy con cái đơn thân",
            "WORK_LIFE_BALANCE": "Cân bằng công việc và cuộc sống",
            "PARENTING_CHALLENGES": "Thách thức trong nuôi dạy con cái",
            "SPECIAL_NEEDS": "Những nhu cầu đặc biệt",
            "FAMILY_RELATIONSHIPS": "Mối quan hệ gia đình",
            "PARENTING_TIPS": "Mẹo nuôi dạy con cái",
            // Add other translations here
            "COOKING": "Nấu ăn",
            "TRAVEL": "Du lịch",
            "HEALTH": "Sức khỏe",
            "ART": "Nghệ thuật",
            "MUSIC": "Âm nhạc",
            "RELIGION": "Tôn giáo",
            "SPIRITUALITY": "Tâm linh",
            "SCIENCE": "Khoa học",
            "PHILOSOPHY": "Triết học",
            "BUSINESS": "Kinh doanh",
            "EDUCATION": "Giáo dục",
            "GRAPHIC_NOVEL": "Tiểu thuyết đồ họa",
            "SPORTS": "Thể thao",
            "TECHNOLOGY": "Công nghệ",
            "TEXTBOOK": "Sách giáo khoa",
            "REFERENCE_BOOK": "Sách tham khảo",
            "WORKBOOK": "Sách bài tập",
            "GUIDE": "Hướng dẫn",
            "HANDBOOK": "Sổ tay",
            "ENCYCLOPEDIA": "Từ điển bách khoa",
            "ATLAS": "Bản đồ",
            "DICTIONARY": "Từ điển",
            "MANUAL": "Sách hướng dẫn",
            "TEXTBOOK_SERIES": "Chuỗi sách giáo khoa",
            "MICROECONOMICS": "Kinh tế vi mô",
            "MACROECONOMICS": "Kinh tế vĩ mô",
            "ECONOMIC_THEORY": "Lý thuyết kinh tế",
            "DEVELOPMENT_ECONOMICS": "Kinh tế phát triển",
            "INTERNATIONAL_ECONOMICS": "Kinh tế quốc tế",
            "BEHAVIORAL_ECONOMICS": "Kinh tế hành vi",
            "PUBLIC_ECONOMICS": "Kinh tế công",
            "ENVIRONMENTAL_ECONOMICS": "Kinh tế môi trường",
            "ECONOMETRICS": "Kinh tế lượng",
            "LABOR_ECONOMICS": "Kinh tế lao động",
            "FINANCIAL_ECONOMICS": "Kinh tế tài chính",
            "HEALTH_ECONOMICS": "Kinh tế y tế",
            "INDUSTRIAL_ORGANIZATION": "Tổ chức công nghiệp",
            "SELF_HELP": "Tự trợ giúp",
            "PERSONAL_DEVELOPMENT": "Phát triển cá nhân",
            "EMOTIONAL_INTELLIGENCE": "Trí tuệ cảm xúc",
            "MINDFULNESS": "Chánh niệm",
            "STRESS_MANAGEMENT": "Quản lý căng thẳng",
            "TIME_MANAGEMENT": "Quản lý thời gian",
            "COMMUNICATION_SKILLS": "Kỹ năng giao tiếp",
            "CONFLICT_RESOLUTION": "Giải quyết xung đột",
            "MOTIVATION": "Động lực",
            "LEADERSHIP": "Lãnh đạo",
            "RESILIENCE": "Khả năng phục hồi",
            "DECISION_MAKING": "Ra quyết định",
            "RELATIONSHIP_BUILDING": "Xây dựng mối quan hệ",
            "SELF_AWARENESS": "Nhận thức bản thân",
            "LANGUAGE_TEXTBOOK": "Sách giáo khoa ngôn ngữ",
            "GRAMMAR_GUIDE": "Hướng dẫn ngữ pháp",
            "VOCABULARY_BOOK": "Sách từ vựng",
            "LANGUAGE_WORKBOOK": "Sách bài tập ngôn ngữ",
            "PHRASEBOOK": "Sách cụm từ",
            "CONVERSATION_GUIDE": "Hướng dẫn hội thoại",
            "AUDIO_LINGUAL_BOOK": "Sách ngôn ngữ âm thanh",
            "LANGUAGE_EXERCISES": "Bài tập ngôn ngữ",
            "LANGUAGE_COURSEBOOK": "Sách khóa học ngôn ngữ",
            "LANGUAGE_DICTIONARY": "Từ điển ngôn ngữ",
            "CULTURE_GUIDE": "Hướng dẫn văn hóa",
            "LANGUAGE_ATHLETICS": "Sách thể thao ngôn ngữ",
            "PICTURE_BOOKS": "Sách tranh",
            "BOARD_BOOKS": "Sách bìa cứng",
            "EARLY_READERS": "Sách đọc sớm",
            "CHAPTER_BOOKS": "Sách chương",
            "MIDDLE_GRADE": "Sách trung cấp",
            "YOUNG_ADULT": "Sách cho người lớn tuổi",
            "FAIRY_TALES": "Truyện cổ tích",
            "EDUCATIONAL": "Giáo dục",
            "ANIMAL_STORIES": "Truyện về động vật",
            "EASY_READERS": "Sách dễ đọc",
            "HUMOR": "Hài hước",
            "BEDTIME_STORIES": "Truyện trước khi đi ngủ",
            "FABLES": "Truyền thuyết",
            "AUTOBIOGRAPHY": "Tự truyện",
            "MEMOIR": "Hồi ký",
            "BIOGRAPHY": "Tiểu sử",
            "DIARY": "Nhật ký",
            "PERSONAL_NARRATIVE": "Tường thuật cá nhân",
            "AUTOBIOGRAPHICAL_NOVEL": "Tiểu thuyết tự truyện",
            "HISTORICAL_MEMOIR": "Hồi ký lịch sử",
            "CELEBRITY_MEMOIR": "Hồi ký của người nổi tiếng",
            "FICTION": "Tiểu thuyết",
            "NON_FICTION": "Phi hư cấu",
            "MYSTERY": "Trinh thám",
            "THRILLER": "Hồi hộp",
            "FANTASY": "Kỳ ảo",
            "ROMANCE": "Lãng mạn",
            "HISTORICAL": "Lịch sử",
            "POETRY": "Thơ",
            "DRAMA": "Kịch",
            "HORROR": "Kinh dị",
            "SCIENCE_FICTION": "Khoa học viễn tưởng",
            "CONTEMPORARY": "Hiện đại",
            "CLASSICS": "Cổ điển",
            "ADVENTURE": "Phiêu lưu",
            "DYSTOPIAN": "Hậu tận thế",
            "COMICS": "Truyện tranh"
        };

        document.addEventListener('DOMContentLoaded', function() {
            const dropdownLinks = document.querySelectorAll('.dropdownContent a');
            
            dropdownLinks.forEach(link => {
                link.addEventListener('mouseover', async function() {
                    document.querySelector('.default-focus').classList.remove('default-focus');
                    this.classList.add('default-focus');
                    const mygenres = await getGenres();
                    const category = this.textContent.trim();
                    const container = document.getElementById('categoryContainer');
                    switch (category) {
                        case "Sách Trong Nước":
                            container.innerHTML = '';
                            for (const [group, genres] of Object.entries(mygenres)) {
                                const groupName = genreGroupTranslations[group] || group;
                                const limitedGenres = genres.slice(0, 5);
                                let genreItems = limitedGenres.map(genre => {
                                    const translatedGenre = genreTranslations[genre] || genre.replace(/_/g, ' ');
                                    return `<span class="d-block crs">${translatedGenre}</span>`;
                                }).join('');
                                genreItems += '<span class="d-block crs text-decoration-underline">Xem tất cả</span>';

                                const columnHtml = `
                                    <div class="col-3 p-2 mb-1 small">
                                        <span class="d-block fw-bold mb-2 text-truncate fs-6">${groupName}</span>
                                        ${genreItems}
                                    </div>
                                `;
                                container.innerHTML += columnHtml;
                            }
                            break;
                        case "FOREIGN BOOKS":
                            container.innerHTML = '';
                            for (const [group, genres] of Object.entries(mygenres)) {
                                const groupName = group;
                                const limitedGenres = genres.slice(0, 5);
                                let genreItems = limitedGenres.map(genre => `<span class="d-block crs">${genre.replace(/_/g, ' ')}</span>`).join('');
                                genreItems += '<span class="d-block crs text-decoration-underline">Xem tất cả</span>';

                                const columnHtml = `
                                    <div class="col-3 p-2 mb-1 small">
                                        <span class="d-block fw-bold mb-2 text-truncate fs-6">${groupName}</span>
                                        ${genreItems}
                                    </div>
                                `;
                                container.innerHTML += columnHtml;
                            }
                            break;
                    
                        default:
                            break;
                    }
                });
            });
        });
    </script>
</body>
</html>